{% schema %}
    {
      "name": "Announcement Bar",
      "settings": [
        {
          "type": "text",
          "id": "announcement_text",
          "label": "Announcement Text",
          "default": "Welcome to our store!"
        },
        {
          "type": "color",
          "id": "announcement_text_color",
          "label": "Text Color",
          "default": "#FFFFFF"
        },
        {
          "type": "color",
          "id": "announcement_bg_color",
          "label": "Background Color",
          "default": "#000000"
        },
        {
          "type": "select",
          "id": "announcement_animation",
          "label": "Text Animation",
          "options": [
            {
              "value": "static",
              "label": "Static"
            },
            {
              "value": "marquee",
              "label": "Marquee"
            }
          ],
          "default": "static"
        },
        {
          "type": "select",
          "id": "announcement_text_alignment",
          "label": "Text Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    }
    {% endschema %}
    
    {% if section.settings.announcement_text %}
      <style>
        .announcement-bar {
          background-color: {{ section.settings.announcement_bg_color }};
          color: {{ section.settings.announcement_text_color }};
          text-align: {{ section.settings.announcement_animation == 'static' ? section.settings.announcement_text_alignment : 'initial' }};
          padding: 10px;
        }
        .announcement-bar.marquee {
          overflow: hidden;
          white-space: nowrap;
        }
        .announcement-bar .marquee-content {
          display: inline-block;
          padding-left: 100%;
          animation: marquee 10s linear infinite;
        }
        @keyframes marquee {
          from {
            transform: translateX(100%);
          }
          to {
            transform: translateX(-100%);
          }
        }
      </style>
      <div class="announcement-bar {{ section.settings.announcement_animation == 'marquee' ? 'marquee' : '' }}">
        {% if section.settings.announcement_animation == 'marquee' %}
          <div class="marquee-content">{{ section.settings.announcement_text }}</div>
        {% else %}
          <div>{{ section.settings.announcement_text }}</div>
        {% endif %}
      </div>
    {% endif %}
    